<form id="EditInvoiceForm" scroll="True" xmlns="https://hyperview.org/hyperview">
    {% include 'mobile/_errors.xml' with errors=errors.items %}

    {% include 'mobile/inputs/text_field.xml' with label="Title" name="title" value=invoice.title placeholder="New Saas app..." %}

    {% if invoice.invoice_type == 1%}
    <view style="FormGroup" id="Invoice_Interval">
      <text style="Label">Invoice Interval</text>
      <picker-field
          field-text-style="Input"
          name="invoice_interval"
          placeholder="Select an invoice interval"
          modal-style="PickerModal"
          modal-text-style="PickerModal__text"
          value="{{ invoice.invoice_interval }}"
      >
        <picker-item label="Daily" value="D" />
        <picker-item label="Weekly" value="W" />
        <picker-item label="Biweekly" value="B" />
        <picker-item label="Monthly" value="M" />
        <picker-item label="Quarterly" value="Q" />
        <picker-item label="Yearly" value="Y" />
      </picker-field>
    </view>
    {% endif %}
    {% if invoice.invoice_type == 2 %}
        {% include 'mobile/inputs/text_field.xml' with id="Milestones" label="Milestone total steps" name="milestone_total_steps" value=invoice.milestone_total_steps placeholder="3" %}
    {% endif %}
    {% if invoice.invoice_type == 1 or invoice.invoice_type == 2 %}
        {% include 'mobile/inputs/text_field.xml' with id="Hourly_Rate" label="Hourly Rate" name="invoice_rate" value=invoice.invoice_rate placeholder="50" %}
    {% endif %}

    {% if invoice.invoice_type == 3 %}
        {% include 'mobile/inputs/text_field.xml' with id="Weekly_Rate" label="Weekly Rate" name="weekly_rate" value=invoice.invoice_rate placeholder="1500" %}
    {% endif %}

    {% include 'mobile/inputs/text_field.xml' with label="Budget" name="total_budget" value=invoice.total_budget placeholder="1000" %}
    {% include 'mobile/inputs/text_field.xml' with label="Email recipient name" name="email_recipient_name" value=invoice.email_recipient_name placeholder="John Smith" %}
    {% include 'mobile/inputs/text_field.xml' with label="Email recipient" name="email_recipient" value=invoice.email_recipient placeholder="john@smith.com" %}

    {% url 'mobile:edit_invoice' invoice_id=invoice.id as save_url %}
    {% include 'mobile/inputs/submit_btn.xml' with title="Update" target="EditInvoiceForm" url=save_url %}

    {% if success %}
    <behavior trigger="load" action="close" href="#" />
    <behavior trigger="load" action="dispatch-event" event-name="reload-invoice-{{ invoice.id }}" />
    {% include 'mobile/_toast.xml' %}
    {% endif %}

</form>
